FROM openjdk:8-jdk-alpine
ARG SERVICEDB_DB_NAME=dtmservice
ARG SERVICEDB_USER=dtmuser
ARG SERVICEDB_PASS=Cat6Gmt7Ncr
ARG SERVICEDB_HOST=10.18.84.17
ARG SERVICEDB_PORT=3306
ARG LIQUIBASE_COMMAND=update
ENV SERVICEDB_DB_NAME=${SERVICEDB_DB_NAME}
ENV SERVICEDB_USER=${SERVICEDB_USER}
ENV SERVICEDB_PASS=${SERVICEDB_PASS}
ENV SERVICEDB_HOST=${SERVICEDB_HOST}
ENV SERVICEDB_PORT=${SERVICEDB_PORT}
ENV LIQUIBASE_COMMAND=${LIQUIBASE_COMMAND}
WORKDIR app
RUN mkdir config
ADD /target/dtm-migration-*.jar dtm-migration.jar
ENTRYPOINT ["java","-jar","dtm-migration.jar"]