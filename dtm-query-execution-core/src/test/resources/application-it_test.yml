logging:
  level:
    io.arenadata.dtm.query.execution: DEBUG
    org.apache.kafka.clients: ERROR

management:
  server:
    port: 8080
  endpoints:
    enabled-by-default: true
    web:
      exposure:
        include: info, health, requests

core:
  plugins:
    active: ADQM

  http:
    port: 9090

  env:
    name: it_test

  settings:
    timeZone: UTC

  metrics:
    isEnabled: true

  datasource:
    edml:
      sourceType: ADB
      defaultChunkSize: 1000
      defaultMessageLimit: 1000
      pluginStatusCheckPeriodMs: 1000
      firstOffsetTimeoutMs: 15000
      changeOffsetTimeoutMs: 10000
    zookeeper:
      connection-string: dtm.zk.ds.it
      connection-timeout-ms: 30000
      session-timeout-ms: 86400000
      chroot: /adtm

  kafka:
    producer:
      property:
        key.serializer: org.apache.kafka.common.serialization.StringSerializer
        value.serializer: org.apache.kafka.common.serialization.StringSerializer
    cluster:
      zookeeper:
        connection-string: dtm.zk.kafka.it
        connection-timeout-ms: 30000
        session-timeout-ms: 86400000
    admin:
      inputStreamTimeoutMs: 2000
    status.event.publish:
      enabled: false
      topic: status.event
    statusMonitorUrl: http://127.0.0.1:9095/status

  cache:
    initialCapacity: 100000
    maximumSize: 100000
    expireAfterAccessMinutes: 99960

adb:
  datasource:
    options:
      database: adb
      user: gpadmin
      password: gpadmin
      host: 10.92.3.61
      port: 5432
      maxSize: 20

  mppw:
    startLoadUrl: http://adb-emulator:8090/newdata/adb/start
    consumerGroup: adb-emulator-load-adb
    poolSize: 2
    stopTimeoutMs: 86400000

  web-client:
    max-pool-size: 100

adg:
  tarantool:
    db:
      host: adg
      port: 3301
      user: admin
      password: memstorage-cluster-cookie
      operationTimeout: 60000
      retryCount: 0
    cartridge:
      url: http://adg:8081

  mppw:
    consumerGroup: tarantool-group-csv
    kafka:
      maxNumberOfMessagesPerPartition: 200
      callbackFunctionSecIdle: 100

  rollback:
    eraseOperationBatchSize: 300

  circuitbreaker:
    maxFailures: 5
    timeout: 30000
    fallbackOnFailure: false
    resetTimeout: 10000

  web-client:
    max-pool-size: 100

adqm:
  datasource:
    database: default
    user:
    password:
    hosts: dtm.adqm.it-test:8123

  ddl:
    cluster: default_cluster
    ttlSec: 3600
    archiveDisk: default

  mppr:
    host: 10.92.3.14
    port: 8086
    url: /query

  mppw:
    consumerGroup: adqm
    kafkaBrokers: kafka-1.dtm.local:9092
    loadType: REST
    restLoadUrl: http://adb-emulator:8090/newdata/adqm/start
    restLoadConsumerGroup: adb-emulator-load-adqm

  web-client:
    max-pool-size: 100